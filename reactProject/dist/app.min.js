"use strict";var express=require("express"),dotenv=require("dotenv"),morgan=require("morgan"),cookieParser=require("cookie-parser"),cors=require("cors"),helmet=require("helmet"),AppError=require("./utils/appError");dotenv.config({path:"./config.env"});var DB=require("./dataBase"),globalErrorHandler=require("./middlewares/errorMiddleware"),authRouter=require("./routes/authRoute"),postRouter=require("./routes/postRoute"),app=express();app.use(express.json()),app.enable("trust proxy"),process.on("uncaughtException",function(e){console.log("UNCAUGHT EXCEPTION! ðŸ’¥ Shutting down..."),console.log(e.name,e.message),process.exit(1)}),app.use(cors()),app.options("*",cors()),app.use(express.json({limit:"10kb"})),app.use(express.urlencoded({extended:!0,limit:"10kb"})),app.use(cookieParser()),"development"===process.env.NODE_ENV&&(app.use(morgan("dev")),console.log("mode: ".concat(process.env.NODE_ENV))),console.log("hello"),app.use("/api/v1/auth",authRouter),app.use("/api/v1/posts",postRouter),app.all("*",function(e,r,o){o(new AppError("Can't find ".concat(e.originalUrl," on this server!"),404))}),app.use(globalErrorHandler),DB(process.env.DATA_BASE_URL);var PORT=8e3;app.listen(PORT,function(){console.log("App Running In Port ".concat(PORT))});
//# sourceMappingURL=app.min.js.map
