{"version":3,"sources":["postModel.js"],"names":["mongoose","require","Schema","postSchema","description","type","String","trim","media","user","ObjectId","ref","timestamps","path","pre","next","select","Post","model","module","exports"],"mappings":"aAAA,IAAMA,SAAWC,QAAQ,YAAnBD,WAAWC,IAAQD,SAAAE,OAGvB,CADIC,YAAa,CAEfC,KAAAA,OACEC,MAAMC,EACNC,SAFW,EAAA,EAAA,+BADfC,MAAA,CAMEA,KAAOF,OACLD,SADK,EAAA,EAAA,+BANTI,KAAA,CAUMJ,KAAEL,SAAAE,OAAAQ,SACJL,IAAML,OACNW,SAFI,EAAA,EAAA,8BAXS,CAkBfC,YAAY,IAMZC,WAAMC,IAAA,QADM,SAAAC,GAEZC,KAAAA,SAAQ,CAFVH,KAAA,OAIAE,OAAI,gBAGNA,MAAA,IAAME,KAAOjB,SAASkB,MAAM,OAAQf,YAEpCgB,OAAOC,QAAUH","file":"postModel.min.js","sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst postSchema = new mongoose.Schema(\r\n  {\r\n    description: {\r\n      type: String,\r\n      trim: true,\r\n      required: [true, 'post must have description'],\r\n    },\r\n    media: {\r\n      type: String,\r\n      required: [true, 'post must have attach file'],\r\n    },\r\n    user: {\r\n      type: mongoose.Schema.ObjectId,\r\n      ref: 'User',\r\n      required: [true, 'post Must Belong To User'],\r\n    },\r\n  },\r\n  {\r\n    timestamps: true,\r\n  }\r\n);\r\n\r\npostSchema.pre(/^find/, function (next) {\r\n  this.populate({\r\n    path: 'user',\r\n    select: 'name media ',\r\n  });\r\n  next();\r\n});\r\n\r\nconst Post = mongoose.model('Post', postSchema);\r\n\r\nmodule.exports = Post;\r\n"]}