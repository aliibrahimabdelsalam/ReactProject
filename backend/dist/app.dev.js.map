{"version":3,"sources":["app.js"],"names":["express","require","dotenv","morgan","cookieParser","cors","helmet","AppError","config","path","DB","globalErrorHandler","authRouter","postRouter","app","use","json","enable","process","on","err","console","log","name","message","exit","options","limit","urlencoded","extended","env","NODE_ENV","all","req","res","next","originalUrl","DATA_BASE_URL","PORT","listen"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA5B;;AACA,IAAMI,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMK,MAAM,GAAGL,OAAO,CAAC,QAAD,CAAtB;;AAEA,IAAMM,QAAQ,GAAGN,OAAO,CAAC,kBAAD,CAAxB;;AACAC,MAAM,CAACM,MAAP,CAAc;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAd;;AACA,IAAMC,EAAE,GAAGT,OAAO,CAAC,YAAD,CAAlB;;AACA,IAAMU,kBAAkB,GAAGV,OAAO,CAAC,+BAAD,CAAlC;;AACA,IAAMW,UAAU,GAAGX,OAAO,CAAC,oBAAD,CAA1B;;AACA,IAAMY,UAAU,GAAGZ,OAAO,CAAC,oBAAD,CAA1B;;AAEA,IAAMa,GAAG,GAAGd,OAAO,EAAnB;AAEAc,GAAG,CAACC,GAAJ,CAAQf,OAAO,CAACgB,IAAR,EAAR;AAEAF,GAAG,CAACG,MAAJ,CAAW,aAAX;AAEAC,OAAO,CAACC,EAAR,CAAW,mBAAX,EAAgC,UAACC,GAAD,EAAS;AACvC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAAsBH,GAAG,CAACI,OAA1B;AACAN,EAAAA,OAAO,CAACO,IAAR,CAAa,CAAb;AACD,CALD;AAOAX,GAAG,CAACC,GAAJ,CAAQV,IAAI,EAAZ;AACAS,GAAG,CAACY,OAAJ,CAAY,GAAZ,EAAiBrB,IAAI,EAArB,E,CAEA;;AAEAS,GAAG,CAACC,GAAJ,CAAQf,OAAO,CAACgB,IAAR,CAAa;AAAEW,EAAAA,KAAK,EAAE;AAAT,CAAb,CAAR;AACAb,GAAG,CAACC,GAAJ,CAAQf,OAAO,CAAC4B,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE,IAAZ;AAAkBF,EAAAA,KAAK,EAAE;AAAzB,CAAnB,CAAR;AACAb,GAAG,CAACC,GAAJ,CAAQX,YAAY,EAApB;;AAEA,IAAIc,OAAO,CAACY,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1CjB,EAAAA,GAAG,CAACC,GAAJ,CAAQZ,MAAM,CAAC,KAAD,CAAd;AACAkB,EAAAA,OAAO,CAACC,GAAR,iBAAqBJ,OAAO,CAACY,GAAR,CAAYC,QAAjC;AACD;;AACDV,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAR,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBH,UAAxB;AACAE,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBF,UAAzB;AAEAC,GAAG,CAACkB,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/BA,EAAAA,IAAI,CAAC,IAAI5B,QAAJ,sBAA2B0B,GAAG,CAACG,WAA/B,uBAA8D,GAA9D,CAAD,CAAJ;AACD,CAFD;AAIAtB,GAAG,CAACC,GAAJ,CAAQJ,kBAAR;AAEAD,EAAE,CAACQ,OAAO,CAACY,GAAR,CAAYO,aAAb,CAAF;AACA,IAAMC,IAAI,GAAG,IAAb;AACAxB,GAAG,CAACyB,MAAJ,CAAWD,IAAX,EAAiB,YAAM;AACrBjB,EAAAA,OAAO,CAACC,GAAR,+BAAmCgB,IAAnC;AACD,CAFD","sourcesContent":["const express = require('express');\r\nconst dotenv = require('dotenv');\r\nconst morgan = require('morgan');\r\nconst cookieParser = require('cookie-parser');\r\nconst cors = require('cors');\r\nconst helmet = require('helmet');\r\n\r\nconst AppError = require('./utils/appError');\r\ndotenv.config({ path: './config.env' });\r\nconst DB = require('./dataBase');\r\nconst globalErrorHandler = require('./middlewares/errorMiddleware');\r\nconst authRouter = require('./routes/authRoute');\r\nconst postRouter = require('./routes/postRoute');\r\n\r\nconst app = express();\r\n\r\napp.use(express.json());\r\n\r\napp.enable('trust proxy');\r\n\r\nprocess.on('uncaughtException', (err) => {\r\n  //if print variable without declare it\r\n  console.log('UNCAUGHT EXCEPTION! ðŸ’¥ Shutting down...');\r\n  console.log(err.name, err.message);\r\n  process.exit(1);\r\n});\r\n\r\napp.use(cors());\r\napp.options('*', cors());\r\n\r\n// app.use(helmet());\r\n\r\napp.use(express.json({ limit: '10kb' }));\r\napp.use(express.urlencoded({ extended: true, limit: '10kb' }));\r\napp.use(cookieParser());\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  app.use(morgan('dev'));\r\n  console.log(`mode: ${process.env.NODE_ENV}`);\r\n}\r\nconsole.log('hello');\r\napp.use('/api/v1/auth', authRouter);\r\napp.use('/api/v1/posts', postRouter);\r\n\r\napp.all('*', (req, res, next) => {\r\n  next(new AppError(`Can't find ${req.originalUrl} on this server!`, 404));\r\n});\r\n\r\napp.use(globalErrorHandler);\r\n\r\nDB(process.env.DATA_BASE_URL);\r\nconst PORT = 8000;\r\napp.listen(PORT, () => {\r\n  console.log(`App Running In Port ${PORT}`);\r\n});\r\n"],"file":"app.dev.js"}